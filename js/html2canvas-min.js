!function(t,e,n){"use strict";function r(t,e,n){var r=t.runtimeStyle&&t.runtimeStyle[e],a,o=t.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(a=o.left,r&&(t.runtimeStyle.left=t.currentStyle.left),o.left="fontSize"===e?"1em":n||0,n=o.pixelLeft+"px",o.left=a,r&&(t.runtimeStyle.left=r)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function a(t){return parseInt(t,10)}function o(t,e,a,o){if(t=(t||"").split(","),t=t[o||0]||t[0]||"auto",t=c.Util.trimText(t).split(" "),"backgroundSize"!==a||t[0]&&!t[0].match(/cover|contain|auto/)){if(t[0]=-1===t[0].indexOf("%")?r(e,a+"X",t[0]):t[0],t[1]===n){if("backgroundSize"===a)return t[1]="auto",t;t[1]=t[0]}t[1]=-1===t[1].indexOf("%")?r(e,a+"Y",t[1]):t[1]}else;return t}function i(t,e,n,r,a,o){var i=c.Util.getCSS(e,t,a),l,s,d,h;if(1===i.length&&(h=i[0],i=[],i[0]=h,i[1]=h),-1!==i[0].toString().indexOf("%"))d=parseFloat(i[0])/100,s=n.width*d,"backgroundSize"!==t&&(s-=(o||r).width*d);else if("backgroundSize"===t)if("auto"===i[0])s=r.width;else if(/contain|cover/.test(i[0])){var u=c.Util.resizeBounds(r.width,r.height,n.width,n.height,i[0]);s=u.width,l=u.height}else s=parseInt(i[0],10);else s=parseInt(i[0],10);return"auto"===i[1]?l=s/r.width*r.height:-1!==i[1].toString().indexOf("%")?(d=parseFloat(i[1])/100,l=n.height*d,"backgroundSize"!==t&&(l-=(o||r).height*d)):l=parseInt(i[1],10),[s,l]}function l(t,e){var n=[];return{storage:n,width:t,height:e,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var t=[];return n.push({type:"function",name:"drawShape",arguments:t}),{moveTo:function(){t.push({name:"moveTo",arguments:arguments})},lineTo:function(){t.push({name:"lineTo",arguments:arguments})},arcTo:function(){t.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){t.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){t.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(t,e){return n.push({type:"variable",name:t,arguments:e}),e}}}function s(t){return{zindex:t,children:[]}}var c={},d,h,u;c.Util={},c.Util.log=function(e){c.logging&&t.console&&t.console.log&&t.console.log(e)},c.Util.trimText=function(t){return function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),c.Util.asFloat=function(t){return parseFloat(t)},function(){var t=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,e=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;c.Util.parseTextShadows=function(t){if(!t||"none"===t)return[];for(var e=t.match(/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g),n=[],r=0;e&&r<e.length;r++){var a=e[r].match(/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g);n.push({color:a[0],offsetX:a[1]?a[1].replace("px",""):0,offsetY:a[2]?a[2].replace("px",""):0,blur:a[3]?a[3].replace("px",""):0})}return n}}(),c.Util.parseBackgroundImage=function(t){var e=" \r\n\t",n,r,a,o,i,l=[],s,c=0,d=0,h,u,f=function(){n&&('"'===r.substr(0,1)&&(r=r.substr(1,r.length-2)),r&&u.push(r),"-"===n.substr(0,1)&&(o=n.indexOf("-",1)+1)>0&&(a=n.substr(0,o),n=n.substr(o)),l.push({prefix:a,method:n.toLowerCase(),value:i,args:u})),u=[],n=a=r=i=""};f();for(var p=0,g=t.length;p<g;p++)if(s=t[p],!(0===c&&e.indexOf(s)>-1)){switch(s){case'"':h?h===s&&(h=null):h=s;break;case"(":if(h)break;if(0===c){c=1,i+=s;continue}d++;break;case")":if(h)break;if(1===c){if(0===d){c=0,i+=s,f();continue}d--}break;case",":if(h)break;if(0===c){f();continue}if(1===c&&0===d&&!n.match(/^url$/i)){u.push(r),r="",i+=s;continue}break}i+=s,0===c?n+=s:r+=s}return f(),l},c.Util.Bounds=function(t){var e,n={};return t.getBoundingClientRect&&(e=t.getBoundingClientRect(),n.top=e.top,n.bottom=e.bottom||e.top+e.height,n.left=e.left,n.width=t.offsetWidth,n.height=t.offsetHeight),n},c.Util.OffsetBounds=function(t){var e=t.offsetParent?c.Util.OffsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},c.Util.getCSS=function(t,n,r){void 0!==t&&(h=e.defaultView.getComputedStyle(t,null));var i=h[n];if(/^background(Size|Position)$/.test(n))return o(i,t,n,r);if(/border(Top|Bottom)(Left|Right)Radius/.test(n)){var l=i.split(" ");return l.length<=1&&(l[1]=l[0]),l.map(a)}return i},c.Util.resizeBounds=function(t,e,n,r,a){var o=n/r,i=t/e,l,s;return a&&"auto"!==a?o<i^"contain"===a?(s=r,l=r*i):(l=n,s=n/i):(l=n,s=r),{width:l,height:s}},c.Util.BackgroundPosition=function(t,e,n,r,a){var o=i("backgroundPosition",t,e,n,r,a);return{left:o[0],top:o[1]}},c.Util.BackgroundSize=function(t,e,n,r){var a=i("backgroundSize",t,e,n,r);return{width:a[0],height:a[1]}},c.Util.Extend=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},c.Util.Children=function(t){var e;try{e=t.nodeName&&"IFRAME"===t.nodeName.toUpperCase()?t.contentDocument||t.contentWindow.document:function(t){var e=[];return null!==t&&function(t,e){var r=t.length,a=0;if("number"==typeof e.length)for(var o=e.length;a<o;a++)t[r++]=e[a];else for(;e[a]!==n;)t[r++]=e[a++];t.length=r}(e,t),e}(t.childNodes)}catch(t){c.Util.log("html2canvas.Util.Children failed with exception: "+t.message),e=[]}return e},c.Util.isTransparent=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t},c.Util.Font=function(){var t={};return function(e,r,a){if(t[e+"-"+r]!==n)return t[e+"-"+r];var o=a.createElement("div"),i=a.createElement("img"),l=a.createElement("span"),s="Hidden Text",c,d,h;return o.style.visibility="hidden",o.style.fontFamily=e,o.style.fontSize=r,o.style.margin=0,o.style.padding=0,a.body.appendChild(o),i.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",i.width=1,i.height=1,i.style.margin=0,i.style.padding=0,i.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=r,l.style.margin=0,l.style.padding=0,l.appendChild(a.createTextNode("Hidden Text")),o.appendChild(l),o.appendChild(i),c=i.offsetTop-l.offsetTop+1,o.removeChild(l),o.appendChild(a.createTextNode("Hidden Text")),o.style.lineHeight="normal",i.style.verticalAlign="super",d=i.offsetTop-o.offsetTop+1,h={baseline:c,lineWidth:1,middle:d},t[e+"-"+r]=h,a.body.removeChild(o),h}}(),function(){function t(t){return function(e){try{t.addColorStop(e.stop,e.color)}catch(t){n.log(["failed to add color stop: ",t,"; tried to add: ",e])}}}var n=c.Util,r={};c.Generate=r;var a=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];r.parseGradient=function(t,e){var n,r,o=a.length,i,l,s,c,d,h,u,f,p,g;for(r=0;r<o&&!(i=t.match(a[r]));r+=1);if(i)switch(i[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},s=i[2].match(/\w+/g))for(c=s.length,r=0;r<c;r+=1)switch(s[r]){case"top":n.y0=0,n.y1=e.height;break;case"right":n.x0=e.width,n.x1=0;break;case"bottom":n.y0=e.height,n.y1=0;break;case"left":n.x0=0,n.x1=e.width;break}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=e.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=e.height/2),s=i[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(c=s.length,d=1/Math.max(c-1,1),r=0;r<c;r+=1)h=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h[2]?(l=parseFloat(h[2]),"%"===h[3]?l/=100:l/=e.width):l=r*d,n.colorStops.push({color:h[1],stop:l});break;case"-webkit-gradient":if(n={type:"radial"===i[2]?"circle":i[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=i[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*e.width/100,n.y0=s[2]*e.height/100,n.x1=s[3]*e.width/100,n.y1=s[4]*e.height/100),s=i[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(c=s.length,r=0;r<c;r+=1)h=s[r].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),l=parseFloat(h[2]),"from"===h[1]&&(l=0),"to"===h[1]&&(l=1),n.colorStops.push({color:h[3],stop:l});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=i[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*e.width/100,n.y0=s[2]*e.height/100,n.x1=e.width-n.x0,n.y1=e.height-n.y0),s=i[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(c=s.length,d=1/Math.max(c-1,1),r=0;r<c;r+=1)h=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),h[2]?(l=parseFloat(h[2]),h[3]&&(l/=100)):l=r*d,n.colorStops.push({color:h[1],stop:l});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:e.width,y1:e.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},s=i[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.cx=s[1]*e.width/100,n.cy=s[2]*e.height/100),s=i[3].match(/\w+/),h=i[4].match(/[a-z\-]*/),s&&h)switch(h[0]){case"farthest-corner":case"cover":case"":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),f=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),g=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(u,f,p,g);break;case"closest-corner":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),f=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),g=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(u,f,p,g);break;case"farthest-side":"circle"===s[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===s[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy));break}if(s=i[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(c=s.length,d=1/Math.max(c-1,1),r=0;r<c;r+=1)h=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),h[2]?(l=parseFloat(h[2]),"%"===h[3]?l/=100:l/=e.width):l=r*d,n.colorStops.push({color:h[1],stop:l});break}return n},r.Gradient=function(n,r){if(0!==r.width&&0!==r.height){var a=e.createElement("canvas"),o=a.getContext("2d"),i,l;if(a.width=r.width,a.height=r.height,i=c.Generate.parseGradient(n,r))switch(i.type){case"linear":l=o.createLinearGradient(i.x0,i.y0,i.x1,i.y1),i.colorStops.forEach(t(l)),o.fillStyle=l,o.fillRect(0,0,r.width,r.height);break;case"circle":l=o.createRadialGradient(i.cx,i.cy,0,i.cx,i.cy,i.rx),i.colorStops.forEach(t(l)),o.fillStyle=l,o.fillRect(0,0,r.width,r.height);break;case"ellipse":var s=e.createElement("canvas"),d=s.getContext("2d"),h=Math.max(i.rx,i.ry),u=2*h;s.width=s.height=u,l=d.createRadialGradient(i.rx,i.ry,0,i.rx,i.ry,h),i.colorStops.forEach(t(l)),d.fillStyle=l,d.fillRect(0,0,u,u),o.fillStyle=i.colorStops[i.colorStops.length-1].color,o.fillRect(0,0,a.width,a.height),o.drawImage(s,i.cx-i.rx,i.cy-i.ry,2*i.rx,2*i.ry);break}return a}},r.ListAlpha=function(t){var e="",n;do{n=t%26,e=String.fromCharCode(n+64)+e,t/=26}while(26*t>26);return e},r.ListRoman=function(t){var e=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],n=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],r="",a,o=e.length;if(t<=0||t>=4e3)return t;for(a=0;a<o;a+=1)for(;t>=n[a];)t-=n[a],r+=e[a];return r}}(),c.Parse=function(r,a){function o(){return Math.max(Math.max(ht.body.scrollWidth,ht.documentElement.scrollWidth),Math.max(ht.body.offsetWidth,ht.documentElement.offsetWidth),Math.max(ht.body.clientWidth,ht.documentElement.clientWidth))}function i(){return Math.max(Math.max(ht.body.scrollHeight,ht.documentElement.scrollHeight),Math.max(ht.body.offsetHeight,ht.documentElement.offsetHeight),Math.max(ht.body.clientHeight,ht.documentElement.clientHeight))}function d(t,e){var n=parseInt(mt(t,e),10);return isNaN(n)?0:n}function h(t,e,n,r,a,o){"transparent"!==o&&(t.setVariable("fillStyle",o),t.fillRect(e,n,r,a),dt+=1)}function u(t,e,n){if(t.length>0)return e+n.toUpperCase()}function f(t,e){switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,u);case"uppercase":return t.toUpperCase();default:return t}}function p(t){return/^(normal|none|0px)$/.test(t)}function g(t,e,n,r){null!==t&&ut.trimText(t).length>0&&(r.fillText(t,e,n),dt+=1)}function m(t,e,n,r){var a=!1,o=mt(e,"fontWeight"),i=mt(e,"fontFamily"),l=mt(e,"fontSize"),s=ut.parseTextShadows(mt(e,"textShadow"));switch(parseInt(o,10)){case 401:o="bold";break;case 400:o="normal";break}if(t.setVariable("fillStyle",r),t.setVariable("font",[mt(e,"fontStyle"),mt(e,"fontVariant"),o,l,i].join(" ")),t.setVariable("textAlign","left"),s.length&&(t.setVariable("shadowColor",s[0].color),t.setVariable("shadowOffsetX",s[0].offsetX),t.setVariable("shadowOffsetY",s[0].offsetY),t.setVariable("shadowBlur",s[0].blur)),"none"!==n)return ut.Font(i,l,ht)}function b(t,e,n,r,a){switch(e){case"underline":h(t,n.left,Math.round(n.top+r.baseline+r.lineWidth),n.width,1,a);break;case"overline":h(t,n.left,Math.round(n.top),n.width,1,a);break;case"line-through":h(t,n.left,Math.ceil(n.top+r.middle+r.lineWidth),n.width,1,a);break}}function y(t,e,n,r,a){var o;if(ft.rangeBounds&&!a)"none"===n&&0===ut.trimText(e).length||(o=w(e,t.node,t.textOffset)),t.textOffset+=e.length;else if(t.node&&"string"==typeof t.node.nodeValue){var i=r?t.node.splitText(e.length):null;o=x(t.node,a),t.node=i}return o}function w(t,e,n){var r=ht.createRange();return r.setStart(e,n),r.setEnd(e,n+t.length),r.getBoundingClientRect()}function x(t,e){var n=t.parentNode,r=ht.createElement("wrapper"),a=t.cloneNode(!0);r.appendChild(t.cloneNode(!0)),n.replaceChild(r,t);var o=e?ut.OffsetBounds(r):ut.Bounds(r);return n.replaceChild(a,r),o}function v(t,e,n){var r=n.ctx,o=mt(t,"color"),i=mt(t,"textDecoration"),l=mt(t,"textAlign"),s,c,d={node:e,textOffset:0};ut.trimText(e.nodeValue).length>0&&(e.nodeValue=f(e.nodeValue,mt(t,"textTransform")),l=l.replace(["-webkit-auto"],["auto"]),c=!a.letterRendering&&/^(left|right|justify|auto)$/.test(l)&&p(mt(t,"letterSpacing"))?e.nodeValue.split(/(\b| )/):e.nodeValue.split(""),s=m(r,t,i,o),a.chinese&&c.forEach(function(t,e){/.*[\u4E00-\u9FA5].*$/.test(t)&&(t=t.split(""),t.unshift(e,1),c.splice.apply(c,t))}),c.forEach(function(t,e){var a=y(d,t,i,e<c.length-1,n.transform.matrix);a&&(g(t,a.left,a.bottom,r),b(r,i,a,s,o))}))}function k(t,e){var n=ht.createElement("boundelement"),r,a;return n.style.display="inline",r=t.style.listStyleType,t.style.listStyleType="none",n.appendChild(ht.createTextNode(e)),t.insertBefore(n,t.firstChild),a=ut.Bounds(n),t.removeChild(n),t.style.listStyleType=r,a}function C(t){var e=-1,n=1,r=t.parentNode.childNodes;if(t.parentNode){for(;r[++e]!==t;)1===r[e].nodeType&&n++;return n}return-1}function T(t,e){var n=C(t),r;switch(e){case"decimal":r=n;break;case"decimal-leading-zero":r=1===n.toString().length?n="0"+n.toString():n.toString();break;case"upper-roman":r=c.Generate.ListRoman(n);break;case"lower-roman":r=c.Generate.ListRoman(n).toLowerCase();break;case"lower-alpha":r=c.Generate.ListAlpha(n).toLowerCase();break;case"upper-alpha":r=c.Generate.ListAlpha(n);break}return r+". "}function S(t,e,n){var r,a,o=e.ctx,i=mt(t,"listStyleType"),l;if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(i)){if(a=T(t,i),l=k(t,a),m(o,t,"none",mt(t,"color")),"inside"!==mt(t,"listStylePosition"))return;o.setVariable("textAlign","left"),r=n.left,g(a,r,l.bottom,o)}}function M(t){var e=r[t];return!(!e||!0!==e.succeeded)&&e.img}function R(t,e){var n=Math.max(t.left,e.left),r=Math.max(t.top,e.top);return{left:n,top:r,width:Math.min(t.left+t.width,e.left+e.width)-n,height:Math.min(t.top+t.height,e.top+e.height)-r}}function E(t,e,n){var r,a="static"!==e.cssPosition,o=a?mt(t,"zIndex"):"auto",i=mt(t,"opacity"),l="none"!==mt(t,"cssFloat");e.zIndex=r=s(o),r.isPositioned=a,r.isFloated=l,r.opacity=i,r.ownStacking="auto"!==o||i<1,n&&n.zIndex.children.push(e)}function I(t,e,n,r,a){var o=d(e,"paddingLeft"),i=d(e,"paddingTop"),l=d(e,"paddingRight"),s=d(e,"paddingBottom");G(t,n,0,0,n.width,n.height,r.left+o+a[3].width,r.top+i+a[0].width,r.width-(a[1].width+a[3].width+o+l),r.height-(a[0].width+a[2].width+i+s))}function L(t){return["Top","Right","Bottom","Left"].map(function(e){return{width:d(t,"border"+e+"Width"),color:mt(t,"border"+e+"Color")}})}function O(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return mt(t,"border"+e+"Radius")})}function z(t,e,n,r){var a=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(o){var i=a(t,e,o),l=a(e,n,o),s=a(n,r,o),c=a(i,l,o),d=a(l,s,o),h=a(c,d,o);return[z(t,i,c,h),z(h,d,s,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function A(t,e,n,r,a,o,i){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",o,i]),(n[0]>0||n[1]>0)&&t.push(["line",a[0].start.x,a[0].start.y])}function B(t,e,n,r,a,o,i){var l=[];return e[0]>0||e[1]>0?(l.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(l)):l.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(l.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(l),l.push(["line",i[0].end.x,i[0].end.y]),i[0].curveToReversed(l)):(l.push(["line",t.c2[0],t.c2[1]]),l.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(l.push(["line",a[1].end.x,a[1].end.y]),a[1].curveToReversed(l)):l.push(["line",t.c4[0],t.c4[1]]),l}function U(t,e,n){var r=t.left,a=t.top,o=t.width,i=t.height,l=e[0][0],s=e[0][1],c=e[1][0],d=e[1][1],h=e[2][0],u=e[2][1],f=e[3][0],p=e[3][1],g=o-c,m=i-u,b=o-h,y=i-p;return{topLeftOuter:wt(r,a,l,s).topLeft.subdivide(.5),topLeftInner:wt(r+n[3].width,a+n[0].width,Math.max(0,l-n[3].width),Math.max(0,s-n[0].width)).topLeft.subdivide(.5),topRightOuter:wt(r+g,a,c,d).topRight.subdivide(.5),topRightInner:wt(r+Math.min(g,o+n[3].width),a+n[0].width,g>o+n[3].width?0:c-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:wt(r+b,a+m,h,u).bottomRight.subdivide(.5),bottomRightInner:wt(r+Math.min(b,o+n[3].width),a+Math.min(m,i+n[0].width),Math.max(0,h-n[1].width),Math.max(0,u-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:wt(r,a+y,f,p).bottomLeft.subdivide(.5),bottomLeftInner:wt(r+n[3].width,a+y,Math.max(0,f-n[3].width),Math.max(0,p-n[2].width)).bottomLeft.subdivide(.5)}}function N(t,e,n,r,a){var o=mt(t,"backgroundClip"),i=[];switch(o){case"content-box":case"padding-box":A(i,r[0],r[1],e.topLeftInner,e.topRightInner,a.left+n[3].width,a.top+n[0].width),A(i,r[1],r[2],e.topRightInner,e.bottomRightInner,a.left+a.width-n[1].width,a.top+n[0].width),A(i,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,a.left+a.width-n[1].width,a.top+a.height-n[2].width),A(i,r[3],r[0],e.bottomLeftInner,e.topLeftInner,a.left+n[3].width,a.top+a.height-n[2].width);break;default:A(i,r[0],r[1],e.topLeftOuter,e.topRightOuter,a.left,a.top),A(i,r[1],r[2],e.topRightOuter,e.bottomRightOuter,a.left+a.width,a.top),A(i,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,a.left+a.width,a.top+a.height),A(i,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,a.left,a.top+a.height);break}return i}function P(t,e,n){var r=e.left,a=e.top,o=e.width,i=e.height,l,s,c,d,h,u,f=O(t),p=U(e,f,n),g={clip:N(t,p,n,f,e),borders:[]};for(l=0;l<4;l++)if(n[l].width>0){switch(s=r,c=a,d=o,h=i-n[2].width,l){case 0:h=n[0].width,u=B({c1:[s,c],c2:[s+d,c],c3:[s+d-n[1].width,c+h],c4:[s+n[3].width,c+h]},f[0],f[1],p.topLeftOuter,p.topLeftInner,p.topRightOuter,p.topRightInner);break;case 1:s=r+o-n[1].width,d=n[1].width,u=B({c1:[s+d,c],c2:[s+d,c+h+n[2].width],c3:[s,c+h],c4:[s,c+n[0].width]},f[1],f[2],p.topRightOuter,p.topRightInner,p.bottomRightOuter,p.bottomRightInner);break;case 2:c=c+i-n[2].width,h=n[2].width,u=B({c1:[s+d,c+h],c2:[s,c+h],c3:[s+n[3].width,c],c4:[s+d-n[3].width,c]},f[2],f[3],p.bottomRightOuter,p.bottomRightInner,p.bottomLeftOuter,p.bottomLeftInner);break;case 3:d=n[3].width,u=B({c1:[s,c+h+n[2].width],c2:[s,c],c3:[s+d,c+n[0].width],c4:[s+d,c+h]},f[3],f[0],p.bottomLeftOuter,p.bottomLeftInner,p.topLeftOuter,p.topLeftInner);break}g.borders.push({args:u,color:n[l].color})}return g}function F(t,e){var n=t.drawShape();return e.forEach(function(t,e){n[0===e?"moveTo":t[0]+"To"].apply(null,t.slice(1))}),n}function V(t,e,n){"transparent"!==n&&(t.setVariable("fillStyle",n),F(t,e),t.fill(),dt+=1)}function D(t,e,n){var r=ht.createElement("valuewrap"),a=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],o,i;a.forEach(function(e){try{r.style[e]=mt(t,e)}catch(t){ut.log("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}}),r.style.borderColor="black",r.style.borderStyle="solid",r.style.display="block",r.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(t.type)||"SELECT"===t.nodeName)&&(r.style.lineHeight=mt(t,"height")),r.style.top=e.top+"px",r.style.left=e.left+"px",o="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value,o||(o=t.placeholder),i=ht.createTextNode(o),r.appendChild(i),gt.appendChild(r),v(t,i,n),gt.removeChild(r)}function G(t){t.drawImage.apply(t,Array.prototype.slice.call(arguments,1)),dt+=1}function H(n,r){var a=t.getComputedStyle(n,r);if(a&&a.content&&"none"!==a.content&&"-moz-alt-content"!==a.content&&"none"!==a.display){var o=a.content+"",i=o.substr(0,1);i===o.substr(o.length-1)&&i.match(/'|"/)&&(o=o.substr(1,o.length-2));var l="url"===o.substr(0,3),s=e.createElement(l?"img":"span");return s.className=bt+"-before "+bt+"-after",Object.keys(a).filter(W).forEach(function(t){try{s.style[t]=a[t]}catch(e){ut.log(["Tried to assign readonly property ",t,"Error:",e])}}),l?s.src=ut.parseBackgroundImage(o)[0].args[0]:s.innerHTML=o,s}}function W(e){return isNaN(t.parseInt(e,10))}function j(t,e){var n=H(t,":before"),r=H(t,":after");(n||r)&&(n&&(t.className+=" "+bt+"-before",t.parentNode.insertBefore(n,t),it(n,e,!0),t.parentNode.removeChild(n),t.className=t.className.replace(bt+"-before","").trim()),r&&(t.className+=" "+bt+"-after",t.appendChild(r),it(r,e,!0),t.removeChild(r),t.className=t.className.replace(bt+"-after","").trim()))}function q(t,e,n,r){var a=Math.round(r.left+n.left),o=Math.round(r.top+n.top);t.createPattern(e),t.translate(a,o),t.fill(),t.translate(-a,-o)}function X(t,e,n,r,a,o,i,l){var s=[];s.push(["line",Math.round(a),Math.round(o)]),s.push(["line",Math.round(a+i),Math.round(o)]),s.push(["line",Math.round(a+i),Math.round(l+o)]),s.push(["line",Math.round(a),Math.round(l+o)]),F(t,s),t.save(),t.clip(),q(t,e,n,r),t.restore()}function _(t,e,n){h(t,e.left,e.top,e.width,e.height,n)}function Y(t,e,n,r,a){var o=ut.BackgroundSize(t,e,r,a),i=ut.BackgroundPosition(t,e,r,a,o),l=mt(t,"backgroundRepeat").split(",").map(ut.trimText);switch(r=J(r,o),l=l[a]||l[0]){case"repeat-x":X(n,r,i,e,e.left,e.top+i.top,99999,r.height);break;case"repeat-y":X(n,r,i,e,e.left+i.left,e.top,r.width,99999);break;case"no-repeat":X(n,r,i,e,e.left+i.left,e.top+i.top,r.width,r.height);break;default:q(n,r,i,{top:e.top,left:e.left,width:r.width,height:r.height});break}}function Q(t,e,n){for(var r=mt(t,"backgroundImage"),a=ut.parseBackgroundImage(r),o,i=a.length;i--;)if(r=a[i],r.args&&0!==r.args.length){var l="url"===r.method?r.args[0]:r.value;o=M(l),o?Y(t,e,n,o,i):ut.log("html2canvas: Error loading background:",r)}}function J(t,e){if(t.width===e.width&&t.height===e.height)return t;var n,r=ht.createElement("canvas");return r.width=e.width,r.height=e.height,n=r.getContext("2d"),G(n,t,0,0,t.width,t.height,0,0,e.width,e.height),r}function K(t,e,n){return t.setVariable("globalAlpha",mt(e,"opacity")*(n?n.opacity:1))}function Z(t){return t.replace("px","")}function tt(t,e){var n=mt(t,"transform")||mt(t,"-webkit-transform")||mt(t,"-moz-transform")||mt(t,"-ms-transform")||mt(t,"-o-transform"),r=mt(t,"transform-origin")||mt(t,"-webkit-transform-origin")||mt(t,"-moz-transform-origin")||mt(t,"-ms-transform-origin")||mt(t,"-o-transform-origin")||"0px 0px";r=r.split(" ").map(Z).map(ut.asFloat);var a;if(n&&"none"!==n){var o=n.match(xt);if(o)switch(o[1]){case"matrix":a=o[2].split(",").map(ut.trimText).map(ut.asFloat);break}}return{origin:r,matrix:a}}function et(t,e,n,r){var s=l(e?n.width:o(),e?n.height:i()),c={ctx:s,opacity:K(s,t,e),cssPosition:mt(t,"position"),borders:L(t),transform:r,clip:e&&e.clip?ut.Extend({},e.clip):null};return E(t,c,e),!0===a.useOverflow&&!0===/(hidden|scroll|auto)/.test(mt(t,"overflow"))&&!1===/(BODY)/i.test(t.nodeName)&&(c.clip=c.clip?R(c.clip,n):n),c}function nt(t,e,n){var r={left:e.left+t[3].width,top:e.top+t[0].width,width:e.width-(t[1].width+t[3].width),height:e.height-(t[0].width+t[2].width)};return n&&(r=R(r,n)),r}function rt(t,e){var n=e.matrix?ut.OffsetBounds(t):ut.Bounds(t);return e.origin[0]+=n.left,e.origin[1]+=n.top,n}function at(t,e,n,r){var a=tt(t,e),o=rt(t,a),i,l=et(t,e,o,a),s=l.borders,c=l.ctx,d=nt(s,o,l.clip),h=P(t,o,s),u=pt.test(t.nodeName)?"#efefef":mt(t,"backgroundColor");switch(F(c,h.clip),c.save(),c.clip(),d.height>0&&d.width>0&&!r?(_(c,o,u),Q(t,d,c)):r&&(l.backgroundColor=u),c.restore(),h.borders.forEach(function(t){V(c,t.args,t.color)}),n||j(t,l),t.nodeName){case"IMG":(i=M(t.getAttribute("src")))?I(c,t,i,o,s):ut.log("html2canvas: Error loading <img>:"+t.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(t.type)&&(t.value||t.placeholder||"").length>0&&D(t,o,l);break;case"TEXTAREA":(t.value||t.placeholder||"").length>0&&D(t,o,l);break;case"SELECT":(t.options||t.placeholder||"").length>0&&D(t,o,l);break;case"LI":S(t,l,d);break;case"CANVAS":I(c,t,t,o,s);break}return l}function ot(t){return"none"!==mt(t,"display")&&"hidden"!==mt(t,"visibility")&&!t.hasAttribute("data-html2canvas-ignore")}function it(t,e,n){ot(t)&&(e=at(t,e,n,!1)||e,pt.test(t.nodeName)||lt(t,e,n))}function lt(t,e,n){ut.Children(t).forEach(function(r){r.nodeType===r.ELEMENT_NODE?it(r,e,n):r.nodeType===r.TEXT_NODE&&v(t,r,e)})}function st(){var t=mt(e.documentElement,"backgroundColor"),n=ut.isTransparent(t)&&ct===e.body,r=at(ct,null,!1,n);return lt(ct,r),n&&(t=r.backgroundColor),gt.removeChild(yt),{backgroundColor:t,stack:r}}t.scroll(0,0);var ct=a.elements===n?e.body:a.elements[0],dt=0,ht=ct.ownerDocument,ut=c.Util,ft=ut.Support(a,ht),pt=new RegExp("("+a.ignoreElements+")"),gt=ht.body,mt=ut.getCSS,bt="___html2canvas___pseudoelement",yt=ht.createElement("style");yt.innerHTML="."+bt+'-before:before { content: "" !important; display: none !important; }.'+bt+'-after:after { content: "" !important; display: none !important; }',gt.appendChild(yt),r=r||{};var wt=function(t){return function(e,n,r,a){var o=r*t,i=a*t,l=e+r,s=n+a;return{topLeft:z({x:e,y:s},{x:e,y:s-i},{x:l-o,y:n},{x:l,y:n}),topRight:z({x:e,y:n},{x:e+o,y:n},{x:l,y:s-i},{x:l,y:s}),bottomRight:z({x:l,y:n},{x:l,y:n+i},{x:e+o,y:s},{x:e,y:s}),bottomLeft:z({x:l,y:s},{x:l-o,y:s},{x:e,y:n+i},{x:e,y:n})}}}((Math.sqrt(2)-1)/3*4),xt=/(matrix)\((.+)\)/;return st()},c.Preload=function(r){function a(t){return S.href=t,S.href=S.href,S.protocol+S.host===m}function o(){b.log("html2canvas: start: images: "+g.numLoaded+" / "+g.numTotal+" (failed: "+g.numFailed+")"),!g.firstRun&&g.numLoaded>=g.numTotal&&(b.log("Finished loading images: # "+g.numTotal+" (failed: "+g.numFailed+")"),"function"==typeof r.complete&&r.complete(g))}function i(e,a,i){var l,s=r.proxy,c;S.href=e,e=S.href,l="html2canvas_"+x++,i.callbackname=l,s.indexOf("?")>-1?s+="&":s+="?",s+="url="+encodeURIComponent(e)+"&callback="+l,c=k.createElement("script"),t[l]=function(e){"error:"===e.substring(0,6)?(i.succeeded=!1,g.numLoaded++,g.numFailed++,o()):(p(a,i),a.src=e),t[l]=n;try{delete t[l]}catch(t){}c.parentNode.removeChild(c),c=null,delete i.script,delete i.callbackname},c.setAttribute("type","text/javascript"),c.setAttribute("src",s),i.script=c,t.document.body.appendChild(c)}function l(e,n){var r=t.getComputedStyle(e,n),a=r.content;"url"===a.substr(0,3)&&y.loadImage(c.Util.parseBackgroundImage(a)[0].args[0]),u(r.backgroundImage,e)}function s(t){l(t,":before"),l(t,":after")}function d(t,e){var r=c.Generate.Gradient(t,e);r!==n&&(g[t]={img:r,succeeded:!0},g.numTotal++,g.numLoaded++,o())}function h(t){return t&&t.method&&t.args&&t.args.length>0}function u(t,e){var r;c.Util.parseBackgroundImage(t).filter(h).forEach(function(t){"url"===t.method?y.loadImage(t.args[0]):t.method.match(/\-?gradient$/)&&(r===n&&(r=c.Util.Bounds(e)),d(t.value,r))})}function f(t){var e=!1;try{b.Children(t).forEach(f)}catch(t){}try{e=t.nodeType}catch(t){e=!1,b.log("html2canvas: failed to access some element's nodeType - Exception: "+t.message)}if(1===e||e===n){s(t);try{u(b.getCSS(t,"backgroundImage"),t)}catch(t){b.log("html2canvas: failed to get background-image - Exception: "+t.message)}u(t)}}function p(e,a){e.onload=function(){a.timer!==n&&t.clearTimeout(a.timer),g.numLoaded++,a.succeeded=!0,e.onerror=e.onload=null,o()},e.onerror=function(){if("anonymous"===e.crossOrigin&&(t.clearTimeout(a.timer),r.proxy)){var n=e.src;return e=new Image,a.img=e,e.src=n,void i(e.src,e,a)}g.numLoaded++,g.numFailed++,a.succeeded=!1,e.onerror=e.onload=null,o()}}var g={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},m,b=c.Util,y,w,x=0,v=r.elements[0]||e.body,k=v.ownerDocument,C=v.getElementsByTagName("img"),T=C.length,S=k.createElement("a"),M=function(t){return t.crossOrigin!==n}(new Image),R;for(S.href=t.location.href,m=S.protocol+S.host,y={loadImage:function(t){var e,o;t&&g[t]===n&&(e=new Image,t.match(/data:image\/.*;base64,/i)?(e.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),o=g[t]={img:e},g.numTotal++,p(e,o)):a(t)||!0===r.allowTaint?(o=g[t]={img:e},g.numTotal++,p(e,o),e.src=t):M&&!r.allowTaint&&r.useCORS?(e.crossOrigin="anonymous",o=g[t]={img:e},g.numTotal++,p(e,o),e.src=t):r.proxy&&(o=g[t]={img:e},g.numTotal++,i(t,e,o)))},cleanupDOM:function(a){var i,l;if(!g.cleanupDone){a&&"string"==typeof a?b.log("html2canvas: Cleanup because: "+a):b.log("html2canvas: Cleanup after timeout: "+r.timeout+" ms.");for(l in g)if(g.hasOwnProperty(l)&&"object"==typeof(i=g[l])&&i.callbackname&&i.succeeded===n){t[i.callbackname]=n;try{delete t[i.callbackname]}catch(t){}i.script&&i.script.parentNode&&(i.script.setAttribute("src","about:blank"),i.script.parentNode.removeChild(i.script)),g.numLoaded++,g.numFailed++,b.log("html2canvas: Cleaned up failed img: '"+l+"' Steps: "+g.numLoaded+" / "+g.numTotal)}t.stop!==n?t.stop():e.execCommand!==n&&e.execCommand("Stop",!1),e.close!==n&&e.close(),g.cleanupDone=!0,a&&"string"==typeof a||o()}},renderingDone:function(){R&&t.clearTimeout(R)}},r.timeout>0&&(R=t.setTimeout(y.cleanupDOM,r.timeout)),b.log("html2canvas: Preload starts: finding background-images"),g.firstRun=!0,f(v),b.log("html2canvas: Preload: Finding images"),
w=0;w<T;w+=1)y.loadImage(C[w].getAttribute("src"));return g.firstRun=!1,b.log("html2canvas: Preload: Done."),g.numTotal===g.numLoaded&&o(),y},c.Renderer=function(t,r){function a(t){function e(t){Object.keys(t).sort().forEach(function(n){var a=[],o=[],i=[],l=[];t[n].forEach(function(t){t.node.zIndex.isPositioned||t.node.zIndex.opacity<1?i.push(t):t.node.zIndex.isFloated?o.push(t):a.push(t)}),function t(e){e.forEach(function(e){l.push(e),e.children&&t(e.children)})}(a.concat(o,i)),l.forEach(function(t){t.context?e(t.context):r.push(t.node)})})}var r=[],a;return a=function t(e){function r(t,e,a){var o="auto"===e.zIndex.zindex?0:Number(e.zIndex.zindex),i=t,l=e.zIndex.isPositioned,s=e.zIndex.isFloated,c={node:e},d=a;e.zIndex.ownStacking?(i=c.context={"!":[{node:e,children:[]}]},d=n):(l||s)&&(d=c.children=[]),0===o&&a?a.push(c):(t[o]||(t[o]=[]),t[o].push(c)),e.zIndex.children.forEach(function(t){r(i,t,d)})}var a={};return r(a,e),a}(t),e(a),r}function o(t){var e;if("string"==typeof r.renderer&&c.Renderer[t]!==n)e=c.Renderer[t](r);else{if("function"!=typeof t)throw new Error("Unknown renderer");e=t(r)}if("function"!=typeof e)throw new Error("Invalid renderer defined");return e}return o(r.renderer)(t,r,e,a(t.stack),c)},c.Util.Support=function(t,e){function r(){var t=new Image,r=e.createElement("canvas"),a=r.getContext!==n&&r.getContext("2d");if(!1===a)return!1;r.width=r.height=10,t.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{a.drawImage(t,0,0),r.toDataURL()}catch(t){return!1}return c.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function a(){var t,n,r,a,o=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(n=e.createElement("boundtest"),n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),r=t.getBoundingClientRect(),a=r.height,123===a&&(o=!0),e.body.removeChild(n))),o}return{rangeBounds:a(),svgRendering:t.svgRendering&&r()}},t.html2canvas=function(e,n){e=e.length?e:[e];var r,a,o={logging:!1,elements:e,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return o=c.Util.Extend(n,o),c.logging=o.logging,o.complete=function(t){"function"==typeof o.onpreloaded&&!1===o.onpreloaded(t)||(r=c.Parse(t,o),"function"==typeof o.onparsed&&!1===o.onparsed(r)||(a=c.Renderer(r,o),"function"==typeof o.onrendered&&o.onrendered(a)))},t.setTimeout(function(){c.Preload(o)},0),{render:function(t,e){return c.Renderer(t,c.Util.Extend(e,o))},parse:function(t,e){return c.Parse(t,c.Util.Extend(e,o))},preload:function(t){return c.Preload(c.Util.Extend(t,o))},log:c.Util.log}},t.html2canvas.log=c.Util.log,t.html2canvas.Renderer={Canvas:n},c.Renderer.Canvas=function(t){function r(t,e){t.beginPath(),e.forEach(function(e){t[e.name].apply(t,e.arguments)}),t.closePath()}function a(t){if(-1===l.indexOf(t.arguments[0].src)){d.drawImage(t.arguments[0],0,0);try{d.getImageData(0,0,1,1)}catch(t){return s=i.createElement("canvas"),d=s.getContext("2d"),!1}l.push(t.arguments[0].src)}return!0}function o(e,n){switch(n.type){case"variable":e[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{e.fillStyle=e.createPattern(n.arguments[0],"repeat")}catch(t){h.log("html2canvas: Renderer: Error creating pattern",t.message)}break;case"drawShape":r(e,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!t.taintTest||t.taintTest&&a(n))&&e.drawImage.apply(e,n.arguments);break;default:e[n.name].apply(e,n.arguments)}break}}t=t||{};var i=e,l=[],s=e.createElement("canvas"),d=s.getContext("2d"),h=c.Util,u=t.canvas||i.createElement("canvas");return function(t,e,r,a,i){var l=u.getContext("2d"),s,c,d,f=t.stack;return u.width=u.style.width=e.width||f.ctx.width,u.height=u.style.height=e.height||f.ctx.height,d=l.fillStyle,l.fillStyle=h.isTransparent(f.backgroundColor)&&e.background!==n?e.background:t.backgroundColor,l.fillRect(0,0,u.width,u.height),l.fillStyle=d,a.forEach(function(t){l.textBaseline="bottom",l.save(),t.transform.matrix&&(l.translate(t.transform.origin[0],t.transform.origin[1]),l.transform.apply(l,t.transform.matrix),l.translate(-t.transform.origin[0],-t.transform.origin[1])),t.clip&&(l.beginPath(),l.rect(t.clip.left,t.clip.top,t.clip.width,t.clip.height),l.clip()),t.ctx.storage&&t.ctx.storage.forEach(function(t){o(l,t)}),l.restore()}),h.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===e.elements.length&&"object"==typeof e.elements[0]&&"BODY"!==e.elements[0].nodeName?(c=i.Util.Bounds(e.elements[0]),s=r.createElement("canvas"),s.width=Math.ceil(c.width),s.height=Math.ceil(c.height),l=s.getContext("2d"),l.drawImage(u,c.left,c.top,c.width,c.height,0,0,c.width,c.height),u=null,s):u}}}(window,document);